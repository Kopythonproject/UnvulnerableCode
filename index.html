<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Unvulnerable Code (Made by ë²”ì„œ)</title>
  <style>
    body {
      margin: 0;
      background: #1e1e1e;
      color: #d4d4d4;
      font-family: 'Courier New', monospace;
      padding: 20px;
    }
    #output {
      white-space: pre-line;
      margin-bottom: 10px;
    }
    #input {
      width: 100%;
      background: #1e1e1e;
      border: none;
      border-top: 1px solid #444;
      color: #d4d4d4;
      padding: 10px;
      font-size: 16px;
    }
    #output .log-block {
      white-space: pre-line;
      margin-bottom: 10px;
    }
    .alert-box {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ffeb3b;
      color: #000;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      z-index: 9999;
      animation: fadein 0.5s ease;
    }
    .title-box {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 36px;
      color: skyblue;
      background-color: rgba(0, 0, 0, 0.7);
      padding: 20px;
      border-radius: 12px;
      z-index: 9999;
      font-weight: bold;
    }
    #recordBtn {
      display: none;
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 10px 20px;
      background: #2196f3;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
      z-index: 10000;
    }
        #thankyou-msg {
      font-size: 20px;
      color: #ffcc00;
      text-align: center;
      margin-top: 20px;
    }
    @keyframes fadein {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
      #desktop-logo {
    position: absolute;
    top: 30px;
    left: 30px;
    font-size: 28px;
    color: #ffffffcc;
    text-shadow: 0 0 5px #00c3ff;
    font-weight: bold;
    font-family: 'Consolas', monospace;
  }

 

    
  </style>
</head>
<body>
<h1>Unvulnerable ì½”ë”©ì–¸ì–´ (Made by ë²”ì„œ) Ver 1.47 B</h1>
  <div id="output">ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”. (help ì…ë ¥)</div>
  <input id="input" autofocus autocomplete="off" placeholder="> ëª…ë ¹ì–´ ì…ë ¥">
  <button id="recordBtn">ë…¹í™” ì‹œì‘</button>

  <script>
    const input = document.getElementById('input');
    const output = document.getElementById('output');
    const recordBtn = document.getElementById('recordBtn');
    const executedCommands = []; // ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œë§ˆë‹¤ ì—¬ê¸°ì— ì €ì¥

// ì‹¤í–‰ ëª…ë ¹ë§ˆë‹¤ ì´ ë°°ì—´ì— push í•´ì•¼ í•¨
function executeCommand(cmd) {
  executedCommands.push(cmd);
    handleCommand(cmd);
  // ê¸°ì¡´ ëª…ë ¹ì–´ ì²˜ë¦¬ ë¡œì§ ì´ì–´ì„œ ì‹¤í–‰...
}


    let mediaRecorder = null;
    let recordedChunks = [];
    let streamRef = null;

    input.addEventListener('keydown', e => {
      if (e.key === 'Enter') {
        const command = input.value.trim();
             executeCommand(command);

        input.value = '';
      }
    });

    function handleCommand(cmd) {
      
      const stringPattern = /^title\s+string\s*\{\s*"(.*?)"\s*\}(.*)$/i;
      const numPattern = /^title\s+num\s*\{\s*(\d+)\s*\}(.*)$/i;
      const alertStrPattern = /^alert\s+string\s*\{\s*\"(.*?)\"\s*\}$/i;
      const alertNumPattern = /^alert\s+num\s*\{\s*(\d+)\s*\}$/i;
      const thankyouPattern = /^thankyou\s*\{\s*timeout\s*:\s*(\d+)\s*\}(.*)$/i;
      const foodPattern = /^food\s*\{\s*bite\s*:\s*(\d+)\s*\}$/i;
 
    


       const helpText = `ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´:\n- help\n- title string {"ë¬¸ìì—´"}\n- title num {ìˆ«ì}\n- title clear all\n- title clear recent\n- cls all\n- cls recent\n- alert string {"ë¬¸ìì—´"}\n- alert num {ìˆ«ì}\n- record myself\n- record otherpage\n- record showbutton\n- record save\n- record clear\n- thankyou {timeout:ì´ˆ}\n- showtime\n- food {bite:ìˆ«ì}\n- getrandom {material:"ë„êµ¬"}\n- unvulnerable\n- gourl {media:"ì‚¬ì´íŠ¸"}\n- unvulnotepad\n- crawl {info:"ê²€ìƒ‰ì–´"}\n- calc {ìˆ˜ì‹}\n- history {mode:"í˜•íƒœ"}\n- expert {"ë¶„ì•¼"} `;
      let match, text = '', timeout = 3, color = 'skyblue', isBold = false, isItalic = false;
      const lowerCmd = cmd.toLowerCase();

      const block = document.createElement('div');
      block.className = 'log-block';
      block.innerText = `> ${cmd}`;
      output.appendChild(block);

      if ((match = cmd.match(thankyouPattern))) {
  const timeoutVal = parseInt(match[1]);
  const options = match[2] || '';
  const noThankYou = /\[nothankyou\s*:\s*"true"\s*\]/i.test(options);
  const inputBox = document.getElementById('input');
  inputBox.style.display = 'none';

  if (!noThankYou) {
    const msg = document.createElement('div');
    msg.id = 'thankyou-msg';
    msg.innerText = 'Thank You!';
    output.appendChild(msg);
  }

  setTimeout(() => {
    inputBox.style.display = 'block';
    const msg = document.getElementById('thankyou-msg');
    if (msg) msg.remove();
  }, timeoutVal * 1000);

  block.innerText += `\nê°ì‚¬ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•˜ê³  ì…ë ¥ë€ì„ ì ì‹œ ìˆ¨ê¹ë‹ˆë‹¤.`;
  return;
}


      if (lowerCmd === 'help') {
  block.innerText += `\n${helpText}`;
  return;
} else if (lowerCmd === 'help [more]' || lowerCmd === 'help[more]') {
  const detailedHelp = `
ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´ ë° ë¶€ì† ì˜µì…˜ ìƒì„¸ ê°€ì´ë“œ:

1. title string {"í…ìŠ¤íŠ¸"} [timeout:n] [color:"ìƒ‰ìƒ"] [bold:"True"] [italic:"True"]
   - í™”ë©´ ì¤‘ì•™ì— í…ìŠ¤íŠ¸ë¥¼ í‘œì‹œ
   - timeout: ëª‡ ì´ˆ í›„ ì‚¬ë¼ì§ˆì§€ (ê¸°ë³¸ 3ì´ˆ)
   - color: í…ìŠ¤íŠ¸ ìƒ‰ìƒ
   - bold: ì§„í•˜ê²Œ í‘œì‹œ
   - italic: ì´íƒ¤ë¦­ì²´ ì ìš©

2. title num {ìˆ«ì} [timeout:n] [color:"ìƒ‰ìƒ"] [bold:"True"] [italic:"True"]
   - ìˆ«ìë¥¼ í…ìŠ¤íŠ¸ì²˜ëŸ¼ í‘œì‹œ

3. title clear all
   - ëª¨ë“  íƒ€ì´í‹€ ì‚­ì œ

4. title clear recent
   - ê°€ì¥ ìµœê·¼ íƒ€ì´í‹€ í•˜ë‚˜ ì‚­ì œ

5. cls all
   - ëª¨ë“  ë¡œê·¸ì°½(clear)

6. cls recent
   - ê°€ì¥ ìµœê·¼ ë¡œê·¸ í•œ ì¤„ ì‚­ì œ

7. alert string {"í…ìŠ¤íŠ¸"}
   - í™”ë©´ ìš°ì¸¡ ìƒë‹¨ì— ì•Œë¦¼ í‘œì‹œ (3ì´ˆ í›„ ì‚¬ë¼ì§)

8. alert num {ìˆ«ì}
   - ìˆ«ì ì•Œë¦¼ í‘œì‹œ

9. style [page:"wavy"/"tornado"/"dragon"] [bgcolor:"ìƒ‰ìƒ"] [textcolor:"ìƒ‰ìƒ"]
   - í˜ì´ì§€ ìŠ¤íƒ€ì¼ ë³€ê²½
   - wavy: ì¤‘ê°„ì— ë¬¼ê²° ì• ë‹ˆë©”ì´ì…˜, ìœ„ëŠ” ë°”ë‹¤ìƒ‰, ì•„ë˜ëŠ” ëª¨ë˜ìƒ‰ ë°°ê²½
   - tornado, dragon: ì¶”í›„ êµ¬í˜„ ì˜ˆì •
   - bgcolor, textcolor: ë°°ê²½ìƒ‰, í…ìŠ¤íŠ¸ ìƒ‰ìƒ ì§€ì • (ë…ë¦½ì )

10. style [na]
    - ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”, ê¸°ë³¸ ë°°ê²½ê³¼ ê¸€ììƒ‰ìœ¼ë¡œ ë³µì›

11. record myself
    - ë‚´ ì¹´ë©”ë¼ í™”ë©´ ë…¹í™” ì¤€ë¹„

12. record otherpage
    - í™”ë©´ ê³µìœ  ë…¹í™” ì¤€ë¹„

13. record showbutton [buttonsize:"large"/"medium"/"small"]
    - ë…¹í™” ì‹œì‘/ì¤‘ì§€ ë²„íŠ¼ í‘œì‹œ, í¬ê¸° ì„ íƒ ê°€ëŠ¥ (ê¸°ë³¸ medium)

14. record save [file:mp4/webm/mp3]
    - ë…¹í™”í•œ ë°ì´í„° ì €ì¥, íŒŒì¼ í˜•ì‹ ì„ íƒ (ê¸°ë³¸ webm)

15. record clear
    - ë…¹í™” ë°ì´í„° ë° ë¦¬ì†ŒìŠ¤ ì´ˆê¸°í™”

16. thankyou {timeout:n} [nothankyou:"True"]
    - "Thank You!" ë©”ì‹œì§€ ì¶œë ¥í•˜ë©° ì…ë ¥ ì ì‹œ ìˆ¨ê¹€
    - nothankyou ì˜µì…˜ìœ¼ë¡œ ë©”ì‹œì§€ ìˆ¨ê¹€ ê°€ëŠ¥

17. help
    - ê¸°ë³¸ ë„ì›€ë§ ì¶œë ¥

18. help [more]
    - ëª¨ë“  ëª…ë ¹ì–´ ë° ì˜µì…˜ ìƒì„¸ ê°€ì´ë“œ ì¶œë ¥

19. showtime [ifcountry:"êµ­ê°€ì½”ë“œ"] [notshow:"seconds/country"]
    - ì§€ê¸ˆ í˜„ì¬ ê¸°ê¸°ê°€ ë‚˜íƒ€ë‚´ëŠ” ì‹œê°„ì„ ì•Œë ¤ì¤Œ
    - ifcountry í•´ë‹¹ êµ­ê°€ í•œì •ìœ¼ë¡œ ì‹œê°„ì˜† êµ­ê°€ë¥¼ ì§€ì •í•¨
    - notshow seconds, notshow country ì´ˆë‹¨ìœ„ ë˜ëŠ” ì†Œì†êµ­ê°€ë¥¼ ìˆ¨ê¹€
 
20. food {bite:ìˆ«ì}
    - ì¼ì • íšŸìˆ˜ì˜ í´ë¦­ì„ ìš”êµ¬í•©ë‹ˆë‹¤

21. getrandom {material:"coin/dice"} [diceface:ìˆ«ì] [coinmessageface:"ë©”ì‹œì§€"] [coinmessagetail:"ë©”ì‹œì§€"] 
    - ì£¼ì‚¬ìœ„ë‚˜ ë™ì „ì„ ì´ìš©í•˜ì—¬ ë¬´ì‘ìœ„ì„±ì„ í™•ì¸ì‹œí‚µë‹ˆë‹¤
    - diceface ì£¼ì‚¬ìœ„ì˜ ë©´ìˆ˜ë¥¼ ì •í•©ë‹ˆë‹¤ (1ë©´ ì´ìƒ)
    - coinmessageface, coinmessagetail ë™ì „ì˜ ì•ë©´ê³¼ ë’·ë©´ì˜ ì´ë¦„ì„ ì •í•©ë‹ˆë‹¤

22. unvulnerable [showmore:"True"]
    - unvulnerable ì½”ë“œì˜ ì‹œìŠ¤í…œ ì •ë³´ë¥¼ ì•Œë¦½ë‹ˆë‹¤
    - showmore ë²„ì „ë”°ìœ„ ì •ë³´ë¥¼ ë™ë°˜ì‹œí‚µë‹ˆë‹¤

23. gourl {media:"ì‚¬ì´íŠ¸"} [timeout:ì´ˆ] 
    - mediaì„ íƒìœ¼ë¡œ urlë¡œ ì´ë™í•©ë‹ˆë‹¤ (youtube,instagram,discord,github,gmail)
    - timemout ì¼ì •ì‹œê°„í›„ urlë¡œ ì´ë™í•©ë‹ˆë‹¤
    *íŒì—…ì°¨ë‹¨ì„ ì¡°ì‹¬í•˜ì„¸ìš”*

24. crawl {info:"ê²€ìƒ‰ì–´"} [engine:"google/edge"] [goto:"image/news/video"] [language:"ko/en/ja/de/ru"]
    - ê²€ìƒ‰ì–´ë¥¼ ì‚¬ì´íŠ¸ì—ì„œ í¬ë¡¤ë§í•¨ë‹ˆë‹¤
    - engine ê²€ìƒ‰ ì—”ì§„ì„ ì„ íƒí•©ë‹ˆë‹¤ 
    - goto ì´ë¯¸ì§€ ë”°ìœ„ì˜ íƒ­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤
    - language ë‹¤ë¥¸ ì–¸ì–´ë¡œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤

25. unvulnotepad
    - UnvulNotepadë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤
    
26. calc {ìˆ˜ì‹}    
    - ìˆ˜ì‹ì„ ê³„ì‚°í•©ë‹ˆë‹¤ (+,-,*,/,//,^ ì‚¬ìš©ê°€ëŠ¥)

27. history {mode:"recent/all"} [processing:"True"]
    - ì´ì „ì˜ ì½”ë“œë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤
    - processing ê·¸ ì½”ë“œë¥¼ ì‹¤í–‰ ë˜í•œ í•©ë‹ˆë‹¤   

28. expert [info:"korean/math/society/science/english"] [savecustom:"ë¶„ì•¼:ì„¤ëª…"]
    - íŠ¹ì • ë¶„ì•¼ì˜ ì „ë¬¸ê°€ì™€ ì„¤ëª…ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤
    - savecustom ì‚¬ìš©ìì§€ì •ì˜ ì „ë¬¸ìì™€ ì„¤ëª…ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤

---

(Made by ë²”ì„œ) all rights reserved!
`;
  block.innerText += detailedHelp;
  return;
  


        
      } else if (lowerCmd === 'title clear all') {
        document.querySelectorAll('.title-box').forEach(el => el.remove());
        block.innerText += `\nëª¨ë“  íƒ€ì´í‹€ì„ ì œê±°í–ˆìŠµë‹ˆë‹¤.`;
        return;
      } else if (lowerCmd === 'title clear recent') {
        const boxes = document.querySelectorAll('.title-box');
        if (boxes.length > 0) {
          boxes[boxes.length - 1].remove();
          block.innerText += `\nê°€ì¥ ìµœê·¼ íƒ€ì´í‹€ í•˜ë‚˜ë¥¼ ì œê±°í–ˆìŠµë‹ˆë‹¤.`;
        } else {
          block.innerText += `\nâš  ì˜¤ë¥˜: ì œê±°í•  íƒ€ì´í‹€ì´ ì—†ìŠµë‹ˆë‹¤.`;
        }
        return;
      } else if (lowerCmd === 'cls all') {
        document.querySelectorAll('.log-block').forEach(el => el.remove());
        return;
      } else if (lowerCmd === 'cls recent') {
        const blocks = document.querySelectorAll('.log-block');
        if (blocks.length > 0) {
          blocks[blocks.length - 1].remove();
        } else {
          block.innerText += `\nâš  ì˜¤ë¥˜: ì‚­ì œí•  ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.`;
        }
        return;
        } else if (lowerCmd.startsWith('style')) {
            const naMatch = cmd.match(/\[na\]/i);
  const pageMatch = cmd.match(/\[page\s*:\s*"(.+?)"\s*\]/i);
  const bgMatch = cmd.match(/\[bgcolor\s*:\s*"(.+?)"\s*\]/i);
  const textMatch = cmd.match(/\[textcolor\s*:\s*"(.+?)"\s*\]/i);

  const page = pageMatch ? pageMatch[1].toLowerCase() : null;
  const bgcolor = bgMatch ? bgMatch[1] : null;
  const textcolor = textMatch ? textMatch[1] : null;

if (naMatch) {
    // ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
    document.body.style.removeProperty('background');
    document.body.style.removeProperty('background-color');
    document.body.style.removeProperty('color');

    // ê¸°ì¡´ ê¸°ë³¸ ìŠ¤íƒ€ì¼ë¡œ ë˜ëŒë¦¬ê¸° (í•„ìš” ì‹œ ì§ì ‘ ëª…ì‹œ ê°€ëŠ¥)
    document.body.style.background = '#1e1e1e';
    document.body.style.color = '#d4d4d4';

    // wavy ìŠ¤íƒ€ì¼ìš© wave div ì œê±°
    const waveDiv = document.querySelector('div[data-wave="true"]');
    if (waveDiv) waveDiv.remove();

    // wave-style <style> íƒœê·¸ ì œê±°
    const waveStyleTag = document.getElementById('wave-style');
    if (waveStyleTag) waveStyleTag.remove();

    block.innerText += '\nìŠ¤íƒ€ì¼ì´ ì´ˆê¸°í™”ë˜ì–´ ê¸°ë³¸ ìƒíƒœë¡œ ë³µêµ¬ë˜ì—ˆìŠµë‹ˆë‹¤.';
    return;
  }

  if (!page && !bgcolor && !textcolor) {
    block.innerText += `\nëª…ë ¹ì–´ê°€ ì˜ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.`;
    return;
  }

if (bgcolor) document.body.style.setProperty('background-color', bgcolor, 'important');
if (textcolor) document.body.style.setProperty('color', textcolor, 'important');

 if (page === 'wavy') {
  document.body.style.setProperty('background', `linear-gradient(to bottom, #2196f3 0%, #2196f3 50%, #fdd835 50%, #fdd835 100%)`, 'important');
    const wave = document.createElement('div');
    wave.style.position = 'fixed';
    wave.style.top = '50%';
    wave.style.left = '0';
    wave.style.width = '100%';
    wave.style.height = '20px';
    wave.style.background = '#81d4fa';
    wave.style.boxShadow = '0 0 20px #03a9f4';
    wave.style.animation = 'waveMove 2s infinite ease-in-out';
    wave.style.zIndex = '-1';
    document.body.appendChild(wave);
    injectWaveStyle();
    block.innerText += `\nğŸŒŠ wavy ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.`;
  } else if (page === 'tornado') {
    block.innerText += `\nğŸŒª tornado ìŠ¤íƒ€ì¼ì€ ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.`; // placeholder
  } else if (page === 'dragon') {
    block.innerText += `\nğŸ‰ dragon ìŠ¤íƒ€ì¼ì€ ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.`; // placeholder
  } else if (page) {
    block.innerText += `\nâš  ì˜¤ë¥˜: ì•Œ ìˆ˜ ì—†ëŠ” page ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.`;
  }
  return;

      } else if (lowerCmd === 'record myself') {
        navigator.mediaDevices.getUserMedia({ video: true, audio: true })
          .then(stream => {
            streamRef = stream;
            mediaRecorder = new MediaRecorder(stream);
            mediaRecorder.ondataavailable = e => recordedChunks.push(e.data);
            block.innerText += `\nì¹´ë©”ë¼ ë…¹í™” ì¤€ë¹„ ì™„ë£Œ.`;
          })
          .catch(() => block.innerText += `\nâš  ì˜¤ë¥˜: ì¹´ë©”ë¼ ì ‘ê·¼ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤.`);
        return;
      } else if (lowerCmd === 'record otherpage') {
        block.innerText += `\në…¹í™”í•  í™”ë©´ì„ ì„ íƒí•´ì£¼ì„¸ìš”.`;
        navigator.mediaDevices.getDisplayMedia({ video: true, audio: true })
          .then(stream => {
            streamRef = stream;
            mediaRecorder = new MediaRecorder(stream);
            mediaRecorder.ondataavailable = e => recordedChunks.push(e.data);
            block.innerText += `\ní™”ë©´ ë…¹í™” ì¤€ë¹„ ì™„ë£Œ.`;
          })
          .catch(() => block.innerText += `\nâš  ì˜¤ë¥˜: í™”ë©´ ê³µìœ ê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.`);
        return;
      } else if (lowerCmd.startsWith('record showbutton')) {
  const sizeMatch = cmd.match(/\[buttonsize\s*:\s*"(large|medium|small)"\s*\]/i);
  let size = 'medium';
  if (sizeMatch) size = sizeMatch[1].toLowerCase();

  // ë²„íŠ¼ í¬ê¸° ì„¤ì •
  let fontSize = '14px', padding = '10px 20px';
  if (size === 'large') {
    fontSize = '20px'; padding = '14px 28px';
  } else if (size === 'small') {
    fontSize = '10px'; padding = '6px 12px';
  }

  recordBtn.style.fontSize = fontSize;
  recordBtn.style.padding = padding;
  recordBtn.style.display = 'block';
  block.innerText += `\në…¹í™” ë²„íŠ¼ì´ '${size}' í¬ê¸°ë¡œ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.`;
  return;

} else if (lowerCmd.startsWith('record save')) {
  if (recordedChunks.length === 0) {
    block.innerText += `\nâš  ì˜¤ë¥˜: ì €ì¥í•  ë…¹í™” ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.`;
    return;
  }

  const fileMatch = cmd.match(/\[file\s*:\s*(mp4|webm|mp3)\s*\]/i);
  const fileType = fileMatch ? fileMatch[1].toLowerCase() : 'webm';

  let mimeType = 'video/webm';
  if (fileType === 'mp4') mimeType = 'video/mp4';
  else if (fileType === 'mp3') mimeType = 'audio/mp3';

  const blob = new Blob(recordedChunks, { type: mimeType });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `recording.${fileType}`;
  a.click();
  URL.revokeObjectURL(url);

  block.innerText += `\në…¹í™” íŒŒì¼ì´ .${fileType} í˜•ì‹ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.`;
  return;
}


       else if (lowerCmd === 'record clear') {
        recordedChunks = [];
        streamRef?.getTracks().forEach(track => track.stop());
        streamRef = null;
        mediaRecorder = null;
        recordBtn.style.display = 'none';
        block.innerText += `\në…¹í™” ê´€ë ¨ ë¦¬ì†ŒìŠ¤ ì´ˆê¸°í™” ì™„ë£Œ.`;
        return;
      }
       else if (lowerCmd.startsWith('showtime')) {
  const ifCountryMatch = cmd.match(/\[ifcountry\s*:\s*"(.+?)"\s*\]/i);
  const notShowMatch = cmd.match(/\[notshow\s*:\s*"(.+?)"\s*\]/i);

  const allowedCountries = ifCountryMatch ? ifCountryMatch[1].split('/').map(c => c.trim().toLowerCase()) : null;
  const hiddenParts = notShowMatch ? notShowMatch[1].split('/').map(p => p.trim().toLowerCase()) : [];

  // êµ­ê°€ ê°ì§€ëŠ” navigator.language ê¸°ë°˜ (ì •í™•ë„ í•œê³„ ìˆì§€ë§Œ ì¼ë°˜ì  ëŒ€ì•ˆ)
  const userLang = navigator.language || '';
  const userCountryGuess = userLang.split('-')[1]?.toLowerCase() || '';

  if (allowedCountries && !allowedCountries.includes(userCountryGuess)) {
    block.innerText += `\nâš  ì´ ëª…ë ¹ì–´ëŠ” í•´ë‹¹ êµ­ê°€ì—ì„œë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤. (${allowedCountries.join(', ')})`;
    return;
  }

  const now = new Date();
  let timeStr = now.toLocaleTimeString(); // ex: 17:10:43
  let countryStr = userCountryGuess.toUpperCase() || 'UNKNOWN';

  // ì œê±° ì²˜ë¦¬
  if (hiddenParts.includes('seconds')) {
    timeStr = timeStr.replace(/:\d{2}$/, ''); // ë§ˆì§€ë§‰ :ss ì œê±°
  }
  if (hiddenParts.includes('country')) {
    countryStr = '';
  }

  block.innerText += `\n í˜„ì¬ ì‹œê°: ${timeStr}${countryStr ? ` (${countryStr})` : ''}`;
  return;
} else if ((match = cmd.match(foodPattern))) {
  const totalBites = parseInt(match[1]);
  if (isNaN(totalBites) || totalBites <= 0) {
    block.innerText += `\nâš  ì˜¤ë¥˜: bite ê°’ì€ ì–‘ì˜ ì •ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤.`;
    return;
  }

  let bitesLeft = totalBites;
  const inputBox = document.getElementById('input');
  inputBox.style.display = 'none';

  const button = document.createElement('button');
  button.textContent = `í´ë¦­ (${bitesLeft}ë²ˆ ë‚¨ìŒ)`;
  button.style.position = 'fixed';
  button.style.top = '50%';
  button.style.left = '50%';
  button.style.transform = 'translate(-50%, -50%)';
  button.style.padding = '14px 28px';
  button.style.fontSize = '20px';
  button.style.background = '#ff7043';
  button.style.color = 'white';
  button.style.border = 'none';
  button.style.borderRadius = '10px';
  button.style.cursor = 'pointer';
  button.style.zIndex = '9999';

  document.body.appendChild(button);

  button.addEventListener('click', () => {
    bitesLeft--;
    if (bitesLeft > 0) {
      button.textContent = `í´ë¦­ (${bitesLeft}ë²ˆ ë‚¨ìŒ)`;
    } else {
      button.remove();
      inputBox.style.display = 'block';
      block.innerText += `\níšŸìˆ˜ë¥¼ ëª¨ë‘ ì±„ì› ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
    }
  });

  block.innerText += `\në²„íŠ¼ì´ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤. ${totalBites}ë²ˆ í´ë¦­í•˜ì‹­ì‹œì˜¤`;
  return;
}
else if (lowerCmd.startsWith('getrandom')) {
  const materialMatch = cmd.match(/\{material\s*:\s*"(coin|dice)"\s*\}/i);
  if (!materialMatch) {
    block.innerText += `\nâš  ì˜¤ë¥˜: material ì˜µì…˜ì´ ì—†ìŠµë‹ˆë‹¤. {material:"coin"} ë˜ëŠ” {material:"dice"} í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”.`;
    return;
  }

  const material = materialMatch[1].toLowerCase();

  if (material === 'coin') {
    const faceMatch = cmd.match(/\[coinmessageface\s*:\s*"(.*?)"\s*\]/i);
    const tailMatch = cmd.match(/\[coinmessagetail\s*:\s*"(.*?)"\s*\]/i);
    const face = faceMatch ? faceMatch[1] : 'ì•ë©´';
    const tail = tailMatch ? tailMatch[1] : 'ë’·ë©´';
    const result = Math.random() < 0.5 ? face : tail;
    block.innerText += `\në™ì „ ê²°ê³¼: ${result}`;
    return;

  } else if (material === 'dice') {
    const faceMatch = cmd.match(/\[diceface\s*:\s*(\d+)\s*\]/i);
    const faces = faceMatch ? parseInt(faceMatch[1]) : 6;
    if (faces < 1 || isNaN(faces)) {
      block.innerText += `\nâš  ì˜¤ë¥˜: ì£¼ì‚¬ìœ„ ë©´ ìˆ˜ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤. [diceface:ìˆ«ì] í˜•ì‹ìœ¼ë¡œ 1 ì´ìƒì˜ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.`;
      return;
    }
    const result = Math.floor(Math.random() * faces) + 1;
    block.innerText += `\nì£¼ì‚¬ìœ„ ê²°ê³¼ (1~${faces}): ${result}`;
    return;
  }

  block.innerText += `\nâš  ì˜¤ë¥˜: material ê°’ì´ 'coin' ë˜ëŠ” 'dice' ì—¬ì•¼ í•©ë‹ˆë‹¤.`;
  return;
}
else if (lowerCmd.startsWith('unvulnerable')) {
  const showmore = /\[showmore\s*:\s*"true"\s*\]/i.test(cmd);
  
  if (showmore) {
    block.innerText += `\nVisit here for more info (Version : 1.47 B) (https://sites.google.com/view/unnamedproject/%ED%99%88?pli=1)`;
  } else {
    block.innerText += `\nUnvulnerable Code (Made by ë²”ì„œ)`;
  }
  return;
}
else if (lowerCmd.startsWith('gourl')) {
  const mediaMatch = cmd.match(/\{media\s*:\s*"(youtube|instagram|discord|github|gmail|google|ezpdf)"\s*\}/i);
  const timeoutMatch = cmd.match(/\[timeout\s*:\s*(\d+)\s*\]/i);

  const timeoutVal = timeoutMatch ? parseInt(timeoutMatch[1]) : 1;

  if (!mediaMatch) {
    block.innerText += `\nâš  ì˜¤ë¥˜: ë¯¸ë””ì–´ ì¢…ë¥˜ê°€ ëˆ„ë½ë˜ì—ˆê±°ë‚˜ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.\nì˜ˆ: gourl {media:"youtube"} [timeout:3]`;
    return;
  }

  const media = mediaMatch[1].toLowerCase();
  let url = '';

  switch (media) {
    case 'youtube': url = 'https://www.youtube.com'; break;
    case 'instagram': url = 'https://www.instagram.com'; break;
    case 'discord': url = 'https://discord.com'; break;
    case 'github': url = 'https://github.com'; break;
    case 'gmail': url = 'https://mail.google.com'; break;
    case 'google': url = 'https://google.com'; break;
    case 'ezpdf': url = 'http://www.ezpdf.co.kr/'; break;  

    default:
      block.innerText += `\nâš  ì˜¤ë¥˜: ì•Œ ìˆ˜ ì—†ëŠ” ë¯¸ë””ì–´ì…ë‹ˆë‹¤.`; return;
  }

  block.innerText += `\n${timeoutVal}ì´ˆ í›„ ${media}ë¡œ ì´ë™í•©ë‹ˆë‹¤...`;

  setTimeout(() => {
    window.open(url, '_blank');
  }, timeoutVal * 1000);
  
  return;
}
else if (lowerCmd === 'unvulnotepad') {
  block.innerText += `\nUnvulNotepadë¡œ ì´ë™ ì¤‘...`;
  setTimeout(() => {
    window.location.href = 'notepad.html';
  }, 2000);
  return;
}
else if (lowerCmd.startsWith('crawl')) {
  // {info:"ê²€ìƒ‰ì–´"} í•„ìˆ˜
  const infoMatch = cmd.match(/\{info\s*:\s*"(.+?)"\s*\}/i);
  // [engine:"google"/"edge"]
  const engineMatch = cmd.match(/\[engine\s*:\s*"(google|edge)"\s*\]/i);
  // [goto:"image"/"news"/"video"]
  const gotoMatch = cmd.match(/\[goto\s*:\s*"(image|news|video)"\s*\]/i);
  // [language:"ko"/"en"/"ja"/"de"/"ru"]
  const languageMatch = cmd.match(/\[language\s*:\s*"(ko|en|ja|de|ru)"\s*\]/i);

  if (!infoMatch) {
    block.innerText += `\nâš  ì˜¤ë¥˜: {info:"ê²€ìƒ‰ì–´"} í˜•ì‹ì´ í•„ìš”í•©ë‹ˆë‹¤.`;
    return;
  }

  const query = encodeURIComponent(infoMatch[1]);
  const engine = engineMatch ? engineMatch[1].toLowerCase() : 'google';
  const goto = gotoMatch ? gotoMatch[1].toLowerCase() : null;
  const language = languageMatch ? languageMatch[1].toLowerCase() : null;

  let url = '';

  if (engine === 'google') {
    if (goto === 'image') {
      url = `https://www.google.com/search?tbm=isch&q=${query}`;
    } else if (goto === 'news') {
      url = `https://www.google.com/search?tbm=nws&q=${query}`;
    } else if (goto === 'video') {
      url = `https://www.google.com/search?tbm=vid&q=${query}`;
    } else {
      url = `https://www.google.com/search?q=${query}`;
    }

    if (language) {
      url += `&hl=${language}`;
    }

  } else if (engine === 'edge') {
    if (goto === 'image') {
      url = `https://www.bing.com/images/search?q=${query}`;
    } else if (goto === 'news') {
      url = `https://www.bing.com/news/search?q=${query}`;
    } else if (goto === 'video') {
      url = `https://www.bing.com/videos/search?q=${query}`;
    } else {
      url = `https://www.bing.com/search?q=${query}`;
    }

    if (language) {
      url += `&setlang=${language}`;
    }

  } else {
    block.innerText += `\nâš  ì˜¤ë¥˜: ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²€ìƒ‰ ì—”ì§„ì…ë‹ˆë‹¤.`;
    return;
  }

  block.innerText += `\n ${engine}ì—ì„œ ${goto ? goto : 'ì¼ë°˜'} ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ë¥¼ ìƒˆ ì°½ìœ¼ë¡œ ì—½ë‹ˆë‹¤.`;
  setTimeout(() => window.open(url, '_blank'), 800);
  return;

} else if (lowerCmd.startsWith('calc')) {
  const exprMatch = cmd.match(/\{(.+?)\}/);
  if (!exprMatch) {
    block.innerText += `\nâš  ì˜¤ë¥˜: calc {ìˆ˜ì‹} í˜•ì‹ì´ í•„ìš”í•©ë‹ˆë‹¤.`;
    return;
  }

  let expression = exprMatch[1];

  try {
    // ë³€í™˜ ì‘ì—…
    expression = expression
      .replace(/\^/g, '**')         // ^ â†’ ê±°ë“­ì œê³±
      .replace(/\/\//g, '/');       // // â†’ ì •ìˆ˜ ë‚˜ëˆ—ì…ˆ í‰ë‚´ (JSì—ëŠ” ì—†ìŒ)

    // ì •ìˆ˜ ë‚˜ëˆ—ì…ˆ í‰ë‚´
    const intDiv = (a, b) => Math.floor(a / b);

    // ì‹¤ì œ í‰ê°€
    const result = Function(`"use strict"; return (${expression})`)();

    block.innerText += `\n ê³„ì‚° ê²°ê³¼: ${result}`;
  } catch (e) {
    block.innerText += `\nâš  ìˆ˜ì‹ ê³„ì‚° ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ${e.message}`;
  }
  return;
} else if (lowerCmd.startsWith('history')) {
  const modeMatch = cmd.match(/\{mode\s*:\s*"(\w+)"\}/i);
  const processMatch = cmd.match(/\[processing\s*:\s*"true"\]/i); // ì›ë³¸ cmdë¡œ ê²€ì‚¬!

  if (!modeMatch) {
    block.innerText += `\nâš  ì˜¤ë¥˜: í˜•ì‹ì€ history {mode:"recent"} ë˜ëŠ” {mode:"all"} ì—¬ì•¼ í•©ë‹ˆë‹¤.`;
    return;
  }

  const mode = modeMatch[1].toLowerCase();

  if (executedCommands.length === 0) {
    block.innerText += `\nâ„¹ ì•„ì§ ì‹¤í–‰ëœ ëª…ë ¹ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.`;
    return;
  }

  if (mode === 'recent') {
    if (executedCommands.length < 2) {
      block.innerText += `\nâ„¹ ì‹¤í–‰ëœ ëª…ë ¹ì–´ê°€ 2ê°œ ì´ìƒ í•„ìš”í•©ë‹ˆë‹¤.`;
      return;
    }

    const secondLastCmd = executedCommands[executedCommands.length - 2];
    block.innerText += `\n ë‘ ë²ˆì§¸ë¡œ ìµœê·¼ ëª…ë ¹ì–´:\n${secondLastCmd}`;

    if (processMatch) {
      block.innerText += `\nâ–¶ ë‹¤ì‹œ ì‹¤í–‰ ì¤‘...`;
      executeCommand(secondLastCmd);
    }

  } else if (mode === 'all') {
    block.innerText += `\n ì§€ê¸ˆê¹Œì§€ì˜ ëª…ë ¹ì–´ ê¸°ë¡:`;
    executedCommands.forEach((c, i) => {
      block.innerText += `\n${i + 1}. ${c}`;
    });

    if (processMatch) {
      block.innerText += `\nâš  ë¬´ì‹œë¨: mode:"all"ì—ì„œëŠ” processing ì‘ë™ì´ ê¸ˆì§€ë©ë‹ˆë‹¤.`;
    }

  } else {
    block.innerText += `\nâš  ì˜¤ë¥˜: ì§€ì›ë˜ì§€ ì•ŠëŠ” mode ê°’ì…ë‹ˆë‹¤.`;
  }

  return;
}

else if (lowerCmd.startsWith("expert")) {
  // ì‚¬ìš©ì ì •ì˜ ì •ë³´ ì €ì¥ ê³µê°„ ì´ˆê¸°í™”
  if (!window.customExpertInfos) window.customExpertInfos = {};

  const infoMatch = cmd.match(/\[info\s*:\s*"(.+?)"\s*\]/i);
  const saveMatch = cmd.match(/\[savecustom\s*:\s*"(.+?)"\s*\]/i);

  // 1. ì•„ë¬´ ì˜µì…˜ë„ ì—†ì„ ë•Œ: ì„¤ëª… ì¶œë ¥
  if (!infoMatch && !saveMatch) {
    block.innerText += `
- available experts
- math
- science
- english
- korean
- history
- society`;
    return;
  }

  // 2. ì‚¬ìš©ì ì •ì˜ ì €ì¥
  if (saveMatch) {
    const content = saveMatch[1];
    const split = content.split(":");

    if (split.length < 2) {
      block.innerText += `âš  í˜•ì‹ ì˜¤ë¥˜: [savecustom:"ë¶„ì•¼:ì„¤ëª…"] í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.`;
      return;
    }

    const field = split[0].trim().toLowerCase();
    const description = split.slice(1).join(":").trim();

    window.customExpertInfos[field] = description;
    block.innerText += ` '${field}' ë¶„ì•¼ì˜ ì‚¬ìš©ì ì •ì˜ ì „ë¬¸ê°€ ì •ë³´ë¥¼ ì €ì¥í–ˆìŠµë‹ˆë‹¤.`;
    return;
  }

  // 3. ì „ë¬¸ê°€ ì •ë³´ ìš”ì²­
  if (infoMatch) {
    const field = infoMatch[1].trim().toLowerCase();
    let response = "";

    const builtInInfo = {
      math: ` ìˆ˜í•™ ì „ë¬¸ê°€:
- ìˆ˜ì™€ ì—°ì‚°, í•¨ìˆ˜, ê¸°í•˜, í™•ë¥ ê³¼ í†µê³„, ë¯¸ì ë¶„ì„ ì „ë¬¸ì ìœ¼ë¡œ ì§€ë„í•©ë‹ˆë‹¤.
- ë¬¸ì œ í•´ê²°ë ¥ê³¼ ë…¼ë¦¬ì  ì‚¬ê³ ë ¥ í–¥ìƒì„ ë„ì™€ì¤ë‹ˆë‹¤.`,

      science: ` ê³¼í•™ ì „ë¬¸ê°€:
- ë¬¼ë¦¬, í™”í•™, ìƒëª…ê³¼í•™, ì§€êµ¬ê³¼í•™ ë¶„ì•¼ì˜ ê°œë…ì„ ì‹¬í™” í•™ìŠµí•©ë‹ˆë‹¤.
- ì‹¤í—˜ ë¶„ì„ ë° ê³¼í•™ íƒêµ¬ í™œë™ ì§€ë„ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.`,

      english: ` ì˜ì–´ ì „ë¬¸ê°€:
- ë“£ê¸°, ë§í•˜ê¸°, ì½ê¸°, ì“°ê¸° ëŠ¥ë ¥ í–¥ìƒì„ ì§€ë„í•©ë‹ˆë‹¤.
- ë¬¸ë²•, ì–´íœ˜, ë…í•´ ì „ëµ ë° ì˜ì–´ ì‹œí—˜ ëŒ€ë¹„ ì§€ë„ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.`,

      korean: ` êµ­ì–´ ì „ë¬¸ê°€:
- ë¬¸í•™ ì‘í’ˆ í•´ì„, ë¹„ë¬¸í•™ ë…í•´, ë¬¸ë²•, ì‘ë¬¸ì„ ë‹¤ë£¹ë‹ˆë‹¤.
- ì½ê¸°ì™€ ì“°ê¸° ëŠ¥ë ¥, ì–¸ì–´ ê°ìˆ˜ì„±ì„ í•¨ê»˜ í–¥ìƒì‹œí‚µë‹ˆë‹¤.`,

      history: ` ì—­ì‚¬ ì „ë¬¸ê°€:
- í•œêµ­ì‚¬ ë° ì„¸ê³„ì‚¬ì˜ íë¦„ì„ ì‹œëŒ€ë³„ë¡œ ë¶„ì„í•©ë‹ˆë‹¤.
- ì£¼ìš” ì‚¬ê±´, ì¸ë¬¼, ì‚¬ìƒì— ëŒ€í•œ ë¹„íŒì  ì‚¬ê³ ë ¥ì„ ê¸°ë¦…ë‹ˆë‹¤.`,

      society: ` ì‚¬íšŒ ì „ë¬¸ê°€:
- ì •ì¹˜, ê²½ì œ, ì§€ë¦¬, ìœ¤ë¦¬ ë“±ì˜ í•µì‹¬ ê°œë…ì„ ë‹¤ë£¹ë‹ˆë‹¤.
- ì‚¬íšŒ ë¬¸ì œì— ëŒ€í•œ ë¶„ì„ê³¼ íƒêµ¬ ëŠ¥ë ¥ ë°°ì–‘ì„ ë•ìŠµë‹ˆë‹¤.`
    };

    if (window.customExpertInfos[field]) {
      response = `${field} ì „ë¬¸ê°€:\n${window.customExpertInfos[field]}`;
    } else if (builtInInfo[field]) {
      response = builtInInfo[field];
    } else {
      response = `âš  '${field}' ë¶„ì•¼ì— ëŒ€í•œ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. [savecustom]ìœ¼ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
    }

    block.innerText += `\n- ${response}`;
    return;
  }
} 






      if ((match = cmd.match(stringPattern))) {
        text = match[1];
        parseOptions(match[2]);
      } else if ((match = cmd.match(numPattern))) {
        text = match[1];
        parseOptions(match[2]);
      } else if ((match = cmd.match(alertStrPattern))) {
        showAlertBox(match[1]);
        block.innerText += `\nì•Œë¦¼ í‘œì‹œ: \"${match[1]}\"`;
        return;
      } else if ((match = cmd.match(alertNumPattern))) {
        showAlertBox(match[1]);
        block.innerText += `\nìˆ«ì ì•Œë¦¼ í‘œì‹œ: ${match[1]}`;
        return;
      } else if (/^title\s+(string|num)/i.test(cmd)) {
        block.innerText += `\nâš  ì˜¤ë¥˜: ëª…ë ¹ì–´ í˜•ì‹ì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.\nì •í™•í•œ ì˜ˆ: title string {"Hello"} ë˜ëŠ” title num {5}`;
        return;
      } else {
        block.innerText += `\nâš  ì˜¤ë¥˜: ì•Œ ìˆ˜ ì—†ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤. (help ì…ë ¥)`;
        return;
      } 
      


      block.innerText += `\níƒ€ì´í‹€ í‘œì‹œ: ${text}`;
      showStyledTitle(text, timeout, color, isBold, isItalic);

      function parseOptions(optionStr) {
        try {
          const timeoutMatch = optionStr.match(/\[timeout\s*:\s*(\d+)\s*\]/i);
          const colorMatch = optionStr.match(/\[color\s*:\s*\"(.+?)\"\s*\]/i);
          const boldMatch = optionStr.match(/\[bold\s*:\s*\"true\"\s*\]/i);
          const italicMatch = optionStr.match(/\[italic\s*:\s*\"true\"\s*\]/i);

          if (timeoutMatch) timeout = parseInt(timeoutMatch[1]);
          if (colorMatch) color = colorMatch[1];
          if (boldMatch) isBold = true;
          if (italicMatch) isItalic = true;
        } catch (e) {
          block.innerText += `\nâš  ì˜µì…˜ êµ¬ë¬¸ ë¶„ì„ ì¤‘ ì˜¤ë¥˜ ë°œìƒ. ì¼ë¶€ ì˜µì…˜ ë¬´ì‹œë¨.`;
        }
      }
    }

    function showStyledTitle(text, timeout, color, bold, italic) {
      const div = document.createElement('div');
      div.className = 'title-box';
      div.innerText = text;
      div.style.fontWeight = bold ? 'bold' : 'normal';
      div.style.fontStyle = italic ? 'italic' : 'normal';
      div.style.color = color;
      document.body.appendChild(div);
      setTimeout(() => div.remove(), timeout * 1000);
    }

    function showAlertBox(message) {
      const alert = document.createElement('div');
      alert.className = 'alert-box';
      alert.innerText = message;
      document.body.appendChild(alert);
      setTimeout(() => alert.remove(), 3000);
    }

    recordBtn.addEventListener('click', () => {
      if (!mediaRecorder) return alert('âš  ë…¹í™”ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë¨¼ì € record myselfë‚˜ otherpage ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.');
      if (mediaRecorder.state === 'recording') {
        mediaRecorder.stop();
        recordBtn.textContent = 'ë…¹í™” ì‹œì‘';
      } else {
        recordedChunks = [];
        mediaRecorder.start();
        recordBtn.textContent = 'ë…¹í™” ì¤‘ì§€';
      }
    });

    function injectWaveStyle() {
  if (document.getElementById('wave-style')) return;
  const style = document.createElement('style');
  style.id = 'wave-style';
  style.innerHTML = `
    @keyframes waveMove {
      0% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0); }
    }
  `;
  document.head.appendChild(style);
}


  </script>
</body>
</html>
